[gd_scene load_steps=19 format=3 uid="uid://dgyixkapey8tg"]

[ext_resource type="TileSet" uid="uid://blpo1fotn5w3g" path="res://Graphics/TileSet.tres" id="1_av58i"]
[ext_resource type="PackedScene" uid="uid://d3rsvv5iihm7t" path="res://Prefabs/Overworld/WarpZone.tscn" id="2_drds8"]
[ext_resource type="PackedScene" uid="uid://bsalesakrx8yy" path="res://Prefabs/Entities/NPC.tscn" id="3_ver5i"]
[ext_resource type="Resource" uid="uid://jwuut14phi64" path="res://GameData/Quests/talk_to_coconut_head.tres" id="3_y1pq8"]
[ext_resource type="Resource" uid="uid://qq710006qo2e" path="res://GameData/Items/Healing/potion.tres" id="4_jcxpf"]
[ext_resource type="Script" path="res://Scripts/Inventory/InventorySlot.gd" id="5_eahra"]
[ext_resource type="Script" path="res://Scripts/Inventory/Inventory.gd" id="6_8831t"]
[ext_resource type="Resource" uid="uid://jhhxu2gbjenp" path="res://GameData/Items/Armor/standard_issue_mail.tres" id="7_01hqm"]
[ext_resource type="Resource" uid="uid://esbe7p26orvx" path="res://GameData/Items/Weapon/standard_issue_sword.tres" id="7_8hraa"]
[ext_resource type="Resource" uid="uid://bjlcwbjqmmsp0" path="res://GameData/Items/Shard/ant_shard.tres" id="8_guc2n"]

[sub_resource type="Resource" id="Resource_tb31n"]
script = ExtResource("5_eahra")
item = ExtResource("4_jcxpf")
count = 5

[sub_resource type="Resource" id="Resource_gdkht"]
script = ExtResource("5_eahra")
item = ExtResource("7_8hraa")
count = 1

[sub_resource type="Resource" id="Resource_dex0x"]
script = ExtResource("5_eahra")
item = ExtResource("7_01hqm")
count = 1

[sub_resource type="Resource" id="Resource_ytkgv"]
script = ExtResource("5_eahra")
item = ExtResource("8_guc2n")
count = 2

[sub_resource type="Resource" id="Resource_g1j12"]
script = ExtResource("6_8831t")
inventorySlots = Array[ExtResource("5_eahra")]([SubResource("Resource_tb31n"), SubResource("Resource_gdkht"), SubResource("Resource_dex0x"), SubResource("Resource_ytkgv")])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p1hmx"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gg1ui"]
size = Vector2(20, 30)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8bipu"]
size = Vector2(8, 1)

[node name="OverworldMap" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = ExtResource("1_av58i")
format = 2
layer_0/name = "Background"
layer_0/z_index = -20
layer_0/tile_data = PackedInt32Array(-1, 196608, 2, -65536, 196608, 2, 65535, 196608, 2, 0, 196608, 2, 131071, 131072, 6, 65536, 131072, 7, 65534, 196608, 65538, -2, 196608, 2, 1, 196608, 65538, -65535, 196608, 2, 131070, 983040, 7, 65537, 983040, 7, 196606, 983040, 7, 196607, 983040, 7, 131072, 983040, 7, 131073, 983040, 7, 65533, 196608, 65538, -3, 196608, 2, -4, 196608, 2, -5, 196608, 2, -65541, 196608, 2, -131077, 196608, 2, -196613, 196608, 2, -196612, 196608, 2, -131076, 196608, 2, -65540, 196608, 2, -65539, 196608, 2, -65538, 196608, 2, -65537, 196608, 2, -131072, 196608, 2, -131071, 196608, 2, -131070, 196608, 2, -131069, 196608, 2, -65533, 196608, 2, -65534, 196608, 2, -65532, 196608, 2, -131068, 196608, 2, -196604, 196608, 2, -196605, 196608, 2, -262141, 196608, 2, -327677, 196608, 2, -327678, 196608, 2, -327679, 196608, 2, -327680, 196608, 2, -262144, 196608, 2, -196609, 196608, 2, -196610, 196608, 2, -196611, 196608, 2, -131075, 196608, 2, -131074, 196608, 2, -131073, 196608, 2, -196608, 196608, 2, -196607, 196608, 2, -262143, 196608, 2, -196606, 196608, 2, -262142, 196608, 2, -262140, 196608, 2, -327676, 196608, 2, -262145, 196608, 2, -262146, 196608, 2, -262147, 196608, 2, -262148, 196608, 2, -262149, 196608, 2, -327685, 196608, 2, -327684, 196608, 2, -327683, 196608, 2, -327682, 196608, 2, -327681, 196608, 2, -393216, 196608, 2, -393215, 196608, 2, -393214, 196608, 2, -393213, 196608, 2, -393212, 196608, 2, -393221, 196608, 2, -393220, 196608, 2, -393219, 196608, 65538, -393218, 196608, 65538, -393217, 196608, 65538, -458752, 196608, 65538, -458751, 196608, 65538, -458750, 196608, 65538, -458749, 196608, 65538, -458748, 196608, 65538, -458757, 196608, 2, -458756, 196608, 2, -458755, 196608, 2, -458754, 196608, 65538, -458753, 196608, 2, -524288, 196608, 2, -524287, 196608, 2, -524286, 196608, 2, -524285, 196608, 2, -524284, 196608, 2, -524293, 196608, 2, -524292, 196608, 2, -524291, 196608, 2, -524290, 196608, 2, -524289, 196608, 2, -589824, 196608, 2, -589823, 196608, 2, -589822, 196608, 2, -524283, 983040, 7, -589820, 196608, 2, -589821, 196608, 2, -589829, 196608, 4, -589828, 196608, 4, -589827, 196608, 4, -589826, 196608, 4, -589825, 196608, 4, -655360, 196608, 4, -655359, 196608, 4, -655358, 196608, 4, -655357, 196608, 4, -655356, 196608, 4, 65532, 196608, 65538, 65531, 196608, 65538, 2, 196608, 65538, 3, 196608, 65538, 4, 196608, 65538, -65531, 983040, 7, -131067, 983040, 7, -196603, 983040, 7, -262139, 983040, 7, -327675, 983040, 7, -393211, 983040, 7, -458747, 983040, 7, -589819, 983040, 7, -655355, 983040, 7, -720891, 983040, 7, -720892, 983040, 7, -720893, 983040, 7, -720894, 983040, 7, -720895, 983040, 7, -720896, 983040, 7, -655361, 983040, 7, -655362, 983040, 7, -655363, 983040, 7, -655364, 983040, 7, -655365, 983040, 7, -655366, 983040, 7, -589830, 983040, 7, -524294, 983040, 7, -458758, 983040, 7, -393222, 983040, 7, -327686, 983040, 7, -262150, 983040, 7, -196614, 983040, 7, -131078, 983040, 7, -65542, 983040, 7, -6, 983040, 7, 65530, 983040, 7, 5, 983040, 7, 131069, 983040, 7, 131068, 983040, 7, 131067, 983040, 7, 131066, 983040, 7, 65538, 983040, 7, 65539, 983040, 7, 65540, 983040, 7, 65541, 983040, 7)
layer_1/name = "Midground"
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = true
layer_1/y_sort_origin = 0
layer_1/z_index = -10
layer_1/tile_data = PackedInt32Array(-393218, 196608, 3, -393217, 196608, 3, -458752, 196608, 3, -458751, 196608, 3, -458750, 196608, 3, -458749, 196608, 3, -458748, 196608, 3, -393219, 196608, 3, -458754, 983040, 1, 65531, 196608, 3, 65532, 196608, 3, 65533, 196608, 3, 2, 196608, 3, 3, 196608, 3, 4, 196608, 3, 65534, 196608, 3, 1, 196608, 3)
layer_2/name = "Foreground"
layer_2/enabled = true
layer_2/modulate = Color(1, 1, 1, 1)
layer_2/y_sort_enabled = false
layer_2/y_sort_origin = 0
layer_2/z_index = 0
layer_2/tile_data = PackedInt32Array()

[node name="NPC" parent="TileMap" instance=ExtResource("3_ver5i")]
y_sort_enabled = true
position = Vector2(0, -59)
displayName = "Coconut Head"
saveName = "coconuthead"
stdDialogue = Array[String](["Hello there! I'm giving a silly quest to travelers.", "This is my second line of dialogue. Isn't this neat?"])
quests = Array[Resource("res://Scripts/Quests/Quest.gd")]([ExtResource("3_y1pq8")])
hasShop = true
inventory = SubResource("Resource_g1j12")

[node name="NavAgent" parent="TileMap/NPC" index="2"]
targetPoints = Array[Vector2]([Vector2(0, -42)])
maxSpeed = 30

[node name="TalkAreaShape" parent="TileMap/NPC/TalkArea" index="0"]
shape = SubResource("RectangleShape2D_p1hmx")

[node name="MoveTriggerShape" parent="TileMap/NPC/MoveTrigger" index="0"]
position = Vector2(0, 19)
shape = SubResource("RectangleShape2D_gg1ui")

[node name="WarpZone" parent="." instance=ExtResource("2_drds8")]
position = Vector2(-4, 12)
mapName = "TestMap2"
mapPos = Vector2(36, -2)

[node name="WarpArea" parent="WarpZone" index="0"]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_8bipu")

[editable path="TileMap/NPC"]
[editable path="WarpZone"]
